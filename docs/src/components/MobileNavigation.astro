---
import Logo from '@components/Logo.astro'
import Navigation from '@components/Navigation.astro'
import { Icon } from 'astro-icon';

const { navigation } = Astro.props;
---

<div x-data class="flex items-center">
  <button
    type="button"
    class="relative"
    aria-label="Open navigation"
    x-on:click="$refs.panel.toggle"
  >
    <Icon name="menu-icon" class="w-6 h-6 stroke-gray-500" />
  </button>
  <div
    x-ref="panel"
    class="fixed !inset-0 z-50 flex items-start overflow-y-auto pe-10 lg:hidden"
    x-float.flip.teleport
    aria-label="Navigation"
    x-on:scroll="document.querySelector('body').classList.add('overflow-hidden')"
  >
    <div class="fixed inset-0 z-0 pointer-events-none pe-10 bg-gray-900/50 backdrop-blur"></div>
    <div class="relative z-10 w-full max-w-xs min-h-full px-4 pt-5 pb-12 bg-white shadow-lg dark:bg-gray-900 sm:px-6 dark:shadow-black">
      <div class="flex items-center">
        <button
          type="button"
          aria-label="Close navigation"
        >
          <Icon name="close-icon" class="w-6 h-6 stroke-gray-500" />
        </button>
        <a href="/docs/" class="ms-6" aria-label="Home page">
          <Logo class="w-auto h-6 fill-gray-700 dark:fill-primary-500 md:h-7" />
        </a>
      </div>
      <div class="px-1 mt-5" x-on:click.away="$refs.panel.toggle">
        <Navigation navigation={navigation} />
      </div>
    </div>
  </div>
</div>
